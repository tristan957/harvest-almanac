{
	"app-id": "io.partin.tristan.HarvestAlmanac",
	"runtime": "org.gnome.Platform",
	"runtime-version": "3.34",
	"sdk": "org.gnome.Sdk",
	"command": "harvest-almanac",
	"finish-args": [
		"--share=network",
		"--share=ipc",
		"--socket=x11",
		"--socket=wayland",
		"--filesystem=xdg-run/dconf",
		"--filesystem=~/.config/dconf:ro",
		"--talk-name=ca.desrt.dconf",
		"--env=DCONF_USER_CONFIG_DIR=.config/dconf"
	],
	"build-options": {
		"cflags": "-O3"
	},
	"cleanup": [
		"/include",
		"/lib/pkgconfig",
		"/man",
		"/share/doc",
		"/share/gtk-doc",
		"/share/man",
		"/share/pkgconfig",
		"*.la",
		"*.a"
	],
	"modules": [
		{
			"name": "libhandy",
			"builddir": true,
			"buildsystem": "meson",
			"config-opts": [
				"-Dtests=false",
				"-Dvapi=false",
				"-Dexamples=false"
			],
			"sources": [
				{
					"type": "archive",
					"url": "https://source.puri.sm/Librem5/libhandy/-/archive/v0.0.11/libhandy-v0.0.11.tar.gz",
					"sha256": "c7e7b51203d9221c50b1a38ba81e0aefb5ab906c55e85b6ca2d0501e907e077d"
				}
			]
		},
		{
			"name": "harvest-almanac",
			"builddir": true,
			"buildsystem": "meson",
			"config-opts": [
				"-Dwerror=true",
				"-Dbuildtype=release"
			],
			"sources": [
				{
					"type": "git",
					"url": "https://git.sr.ht/~tristan957/harvest-almanac"
				}
			]
		},
		{
			"name": "libsoup",
			"builddir": true,
			"buildsystem": "meson",
			"config-opts": [
				"-Dtests=false",
				"-Dvapi=false",
				"-Dintrospection=false"
			],
			"sources": [
				{
					"type": "archive",
					"url": "https://gitlab.gnome.org/GNOME/libsoup/-/archive/2.67.90/libsoup-2.67.90.tar.gz",
					"sha256": "6d27bf210a800d231cf91ceafb85f9d4ac7fa6bc0333434278a5a23f8cd0b230"
				}
			]
		},
		{
			"name": "libsecret",
			"builddir": true,
			"buildsystem": "meson",
			"config-opts": [
				"-Dgtk_doc=false",
				"-Dvapi=false",
				"-Dman=false"
			],
			"sources": [
				{
					"type": "archive",
					"url": "https://gitlab.gnome.org/GNOME/libsecret/-/archive/0.18.8/libsecret-0.18.8.tar.gz",
					"sha256": "33ee5dfd3556931b81d47111890c8b9c51093b4ced18e0e87f51c1769e24d43c"
				}
			]
		}
	]
}
